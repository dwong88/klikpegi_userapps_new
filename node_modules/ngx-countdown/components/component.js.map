{"version":3,"sources":["../../.tmp/components/component.ts"],"names":[],"mappings":"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","file":"component.js","sourceRoot":"","sourcesContent":["import { Component, ElementRef, ViewEncapsulation, Input, Renderer, OnChanges, SimpleChanges, OnDestroy, Output, EventEmitter, HostBinding } from '@angular/core';\r\nimport { Config } from './interfaces/config';\r\nimport { Hand } from './interfaces/hand';\r\nimport { Timer } from './timer';\r\n\r\n\r\nexport class CountdownComponent implements OnChanges, OnDestroy {\r\n\r\n     config: Config;\r\n     start = new EventEmitter();\r\n     finished = new EventEmitter();\r\n     notify = new EventEmitter();\r\n    cls: string;\r\n\r\n    constructor(private el: ElementRef,\r\n        private renderer: Renderer,\r\n        private timer: Timer) {\r\n        this.timer.start();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.init();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.destroy();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (!changes.config.firstChange) {\r\n            this.destroy().init();\r\n        }\r\n    }\r\n\r\n    restart(): void  {\r\n        this.destroy().init();\r\n        this.timer.start();\r\n    }\r\n\r\n    private frequency: number = 1000;\r\n    private _notify: any = {};\r\n    private hands: Hand[] = [];\r\n    private left: number = 0;\r\n\r\n    private init() {\r\n        const me = this;\r\n        const el = me.el.nativeElement;\r\n\r\n        me.config = Object.assign(<Config>{\r\n            leftTime: 0,\r\n            template: '$!h!时$!m!分$!s!秒',\r\n            size: 'lite',\r\n            effect: 'normal',\r\n            varRegular: /\\$\\!([\\-\\w]+)\\!/g,\r\n            clock: ['d', 100, 2, 'h', 24, 2, 'm', 60, 2, 's', 60, 2, 'u', 10, 1]\r\n        }, me.config);\r\n\r\n        this.cls = `count-down ${me.config.size} ${me.config.className}`;\r\n\r\n        // 分析markup\r\n        let tmpl = el.innerHTML || me.config.template;\r\n        me.config.varRegular.lastIndex = 0;\r\n        el.innerHTML = tmpl.replace(me.config.varRegular, (str: string, type: string) => {\r\n            // 时钟频率校正.\r\n            if (type === 'u' || type === 's-ext')\r\n                me.frequency = 100;\r\n\r\n            // 生成hand的markup\r\n            let content = '';\r\n            if (type === 's-ext') {\r\n                me.hands.push({ type: 's' });\r\n                me.hands.push({ type: 'u' });\r\n                content = me.html('', 's', 'handlet') +\r\n                    me.html('.', '', 'digital') +\r\n                    me.html('', 'u', 'handlet');\r\n            } else {\r\n                me.hands.push({ type: type });\r\n            }\r\n\r\n            return me.html(content, type, 'hand');\r\n        });\r\n\r\n        const clock = me.config.clock;\r\n        me.hands.forEach((hand: Hand) => {\r\n            let type = hand.type,\r\n                base: number = 100,\r\n                i: number;\r\n\r\n            hand.node = el.querySelector(`.hand-${type}`);\r\n            // radix, bits 初始化\r\n            for (i = clock.length - 3; i > -1; i -= 3) {\r\n                if (type === clock[i]) {\r\n                    break;\r\n                }\r\n\r\n                base *= clock[i + 1];\r\n            }\r\n            hand.base = base;\r\n            hand.radix = clock[i + 1];\r\n            hand.bits = clock[i + 2];\r\n        });\r\n\r\n        me.getLeft();\r\n        me.reflow();\r\n\r\n        // bind reflow to me\r\n        const _reflow = me.reflow;\r\n        me.reflow = (count: number = 0) => {\r\n            return _reflow.apply(me, [count]);\r\n        };\r\n\r\n        // 构建 notify\r\n        if (me.config.notify) {\r\n            me.config.notify.forEach((time: number) => {\r\n                if (time < 1) throw new Error('由于当结束会调用 finished，所以 notify 通知必须全是正整数');\r\n                time = time * 1000;\r\n                time = time - time % me.frequency;\r\n                me._notify[time] = true;\r\n            });\r\n        }\r\n\r\n        me.start.emit();\r\n        me.timer.add(me.reflow, me.frequency);\r\n        // show\r\n        el.style.display = 'inline';\r\n\r\n        return me;\r\n    }\r\n\r\n    private destroy() {\r\n        this.timer.remove(this.reflow);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 更新时钟\r\n     */\r\n    private reflow(count: number = 0): void {\r\n        const me = this;\r\n        me.left = me.left - me.frequency * count;\r\n\r\n        me.hands.forEach((hand: Hand) => {\r\n            hand.lastValue = hand.value;\r\n            hand.value = Math.floor(me.left / hand.base) % hand.radix;\r\n        });\r\n\r\n        me.repaint();\r\n\r\n        if (me._notify[me.left]) {\r\n            me.notify.emit(me.left);\r\n        }\r\n\r\n        if (me.left < 1) {\r\n            me.finished.emit(0);\r\n            this.destroy();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 重绘时钟\r\n     */\r\n    private repaint(): void {\r\n        let me = this;\r\n        if (me.config.repaint) {\r\n            me.config.repaint.apply(me);\r\n            return;\r\n        }\r\n        \r\n        let content: string;\r\n\r\n        me.hands.forEach((hand: Hand) => {\r\n            if (hand.lastValue !== hand.value) {\r\n                content = '';\r\n\r\n                me.toDigitals(hand.value, hand.bits).forEach((digital: number) => {\r\n                    content += me.html(digital.toString(), '', 'digital');\r\n                });\r\n\r\n                hand.node.innerHTML = content;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取倒计时剩余帧数\r\n     */\r\n    private getLeft(): void {\r\n        let left: number = this.config.leftTime * 1000,\r\n            end: number = this.config.stopTime;\r\n\r\n        if (!left && end)\r\n            left = end - new Date().getTime();\r\n\r\n        this.left = left - left % this.frequency;\r\n    }\r\n\r\n    /**\r\n     * 生成需要的html代码，辅助工具\r\n     */\r\n    private html(con: string | any[], className: string, type: string): string {\r\n        if (con instanceof Array) {\r\n            con = con.join('');\r\n        }\r\n\r\n        switch (type) {\r\n            case 'hand':\r\n            case 'handlet':\r\n                className = type + ' hand-' + className;\r\n                break;\r\n            case 'digital':\r\n                if (con === '.') {\r\n                    className = type + ' ' + type + '-point ' + className;\r\n                } else {\r\n                    className = type + ' ' + type + '-' + con + ' ' + className;\r\n                }\r\n                break;\r\n        }\r\n        return '<span class=\"' + className + '\">' + con + '</span>';\r\n    }\r\n\r\n    /**\r\n     * 把值转换为独立的数字形式\r\n     */\r\n    private toDigitals(value: number, bits: number): number[] {\r\n        value = value < 0 ? 0 : value;\r\n        let digitals = [];\r\n        // 把时、分、秒等换算成数字.\r\n        while (bits--) {\r\n            digitals[bits] = value % 10;\r\n            value = Math.floor(value / 10);\r\n        }\r\n        return digitals;\r\n    }\r\n\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n    selector: 'countdown',\r\n    template: `<ng-content></ng-content>`,\r\n    host: {\r\n        '[class]': 'cls'\r\n    },\r\n    styles: [`\r\n.count-down{display:none;color:#808080;font-size:12px;font-family:arial, '\\5b8b\\4f53'}.count-down span{text-decoration:none}.count-down .clock{font-weight:bold}.count-down .hand{margin:0 3px}.count-down .digital{color:#f60;font-size:14px;font-weight:normal}.count-down.medium .digital{color:#404040;font-size:24px}.count-down.large .hand{display:inline-block;padding:0 2px;width:32px;height:35px;line-height:35px;box-sizing:initial;background:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAAAjCAYAAADyrNZPAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAHRSURBVGje7doxihtBEEbhV0NHwjCgRAYfwIMDH8BsugfYK0g6gMFX2NTgA+gsmxi8NzBStKnB0cJKkfovB17JJ+ipAndHAiXva0rFCMY2mw3AO+ArcPP6ec7zC3gEvux2uyeA7XYb2TOb1dbr9Xvgh5ktzSykyN1x92fgE1Cje+ayFne/N7Pl5YvAM7r7PVCT9DS3Fne/NbMUUHe/5e/lp+hpbS2Sxiw/b0lvALL0tLaW1x0U3QL8WzNZelpbiySGYYhuAUASQJqe1tYiKc2kXS4/S09ra187gdYi6Tpx0efSkaWntbWvnUBrv/xAa187gdZ++YHWvnYCrX3yA6198gOtRRKLxSK6BYDj8QiQpqe1tdRaORwO0S0AjOMIkKantbVIYrVaRbcAcDqdANL0tLb2nR9o7U87gdZ++YHWfvmB1n75gdYiifP5HN1yDQLS9LS2FknUWqNbrkFAmp7W1j75gdbi7mkm7fJ8n6WntbVPfqA11T/c/+7tBXd/ljRGxwCY2QtQs/S0thZJD+5+Fz1tZoaZPQA1Q88cVpum6QPwXdIyCmxmDMNweT+f6J65rMXdfwIfzeybmd0Ab2fu+Q08uvvn/X7/BDBNU2TPbNY/RYn/l73uadIAAAAASUVORK5CYII=\") no-repeat}.count-down.large .digital{color:#fff;font-size:28px}.count-down.large .hand-s-ext{width:59px;background-position:-36px 0}\r\n    `],\r\n    encapsulation: ViewEncapsulation.None\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer, },\n{type: Timer, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'config': [{ type: Input },],\n'start': [{ type: Output },],\n'finished': [{ type: Output },],\n'notify': [{ type: Output },],\n};\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}