{"version":3,"sources":["../../src/pages/method-credit/method-credit.ts","../../src/pages/method-credit/method-credit.module.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import {\n    Component,\n    ViewChild\n} from '@angular/core';\nimport {\n    IonicPage,\n    App,\n    NavController,\n    NavParams,\n    Navbar,\n    ToastController,\n    LoadingController,\n    ViewController,\n    AlertController,\n    ModalController,\n    Nav,\n    PopoverController\n} from 'ionic-angular';\nimport {\n    ParseService\n} from '../../providers/parse-service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CommonHandler } from '../../components/CommonHandler';\nimport {GlobalConfigurationService} from \"../../providers/global-configuration-service\";\nimport {Geolocation} from \"@ionic-native/geolocation\";\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\n\n@IonicPage()\n@Component({\n    selector: 'page-method-credit',\n    templateUrl: 'method-credit.html'\n})\nexport class MethodCreditPage extends CommonHandler {\n    @ViewChild(Navbar) navBar: Navbar;\n    @ViewChild(Nav) nav: Nav;\n\n    bookingData: any = ''\n    transitPrice: number = 0\n    hour24Price: number = 0\n    nightPrice: number = 0\n\n    bank;\n    public footerIsHidden: boolean;\n    public paymentForm: FormGroup;\n\n    constructor(\n        public formBuilder: FormBuilder,\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public app: App,\n        public parseService: ParseService,\n        public toastCtrl: ToastController,\n        public viewCtrl: ViewController,\n        public alertCtrl: AlertController,\n        public modalCtrl: ModalController,\n        public loadingCtrl: LoadingController,\n        public popoverCtrl: PopoverController,\n        public translate: TranslateService,\n        protected geolocation: Geolocation,\n        protected globalConfig: GlobalConfigurationService\n    ) {\n        super(toastCtrl, viewCtrl, globalConfig, geolocation, translate);\n        this.parseService.getGlobalSettings().then(data => {\n            this.bank = data.bank[0];\n            return this.bank;\n        })\n        this.bookingData = navParams.get('classDetail')\n        console.log(this.bookingData.propDetail);\n        this.transitPrice = this.bookingData.priceList[this.bookingData.duration - 1].price * (100 - this.bookingData.discountRate) / 100;\n        this.hour24Price = this.bookingData.pricing24 * (100 - this.bookingData.discountRate) / 100;\n        this.nightPrice = this.bookingData.price * this.bookingData.duration * (100 - this.bookingData.discountRate) / 100;\n\n        this.footerIsHidden = false;\n\n        this.paymentForm = this.formBuilder.group({\n            cc_no: ['', Validators.compose([Validators.required])],\n            cc_valid_until: ['', Validators.compose([Validators.required])],\n            cc_cvv: ['', Validators.compose([Validators.required])],\n            cc_name: ['', Validators.compose([Validators.required])]\n        });\n    }\n\n    ionViewDidLoad() {\n\n        this.navBar.backButtonClick = (e: UIEvent) => {\n            this.navCtrl.pop({\n                animate: true,\n                animation: 'ios-transition',\n                direction: 'back'\n            });\n        }\n    }\n\n    bookRoom() {\n        var bookingLoading; var bookingSuccess;\n        this.translate.get('BOOKING_ROOM').subscribe(value => { bookingLoading = value; });\n        this.translate.get('BOOKING_SUCCESS').subscribe(value => { bookingSuccess = value; });\n\n        let self = this;\n        let loading = this.loadingCtrl.create({\n            spinner: 'hide',\n            content: bookingLoading,\n        });\n\n        if (this.parseService.getCurrentUser() != null) {\n            console.log(this.bookingData);\n            loading.present();\n            this.parseService.bookRoom(this.bookingData).then(success => {\n                //this.parseService.sendEmail(this.bookingData, \"bookingPlacement\");\n                loading.dismiss();\n                let toast = this.toastCtrl.create({\n                    message: bookingSuccess,\n                    duration: 1000,\n                    position: 'bottom'\n                });\n                toast.present();\n                this.navCtrl.popToRoot().then(\n                    this.navCtrl.parent.select(2)\n                );\n            }, err => {\n                loading.dismiss();\n                let toast = this.toastCtrl.create({\n                    message: err,\n                    duration: 1000,\n                    position: 'bottom'\n                });\n                toast.present();\n            })\n        } else {\n            this.presentAlert();\n        }\n    }\n\n    presentAlert() {\n        var loginTitle; var loginSubTitle; var loginBtn; var registerBtn; var cancelBtn;\n        this.translate.get('LOG_IN_REQUIRED').subscribe(value => { loginTitle = value; });\n        this.translate.get('LOG_IN_TO_BOOK_ROOM').subscribe(value => { loginSubTitle = value; });\n        this.translate.get('LOG_IN').subscribe(value => { loginBtn = value; });\n        this.translate.get('REGISTER').subscribe(value => { registerBtn = value; });\n        this.translate.get('CANCEL').subscribe(value => { cancelBtn = value; });\n\n        let alert = this.alertCtrl.create({\n            title: loginTitle,\n            subTitle: loginSubTitle,\n            buttons: [\n                {\n                    text: loginBtn,\n                    handler: () => {\n                        let login = this.modalCtrl.create(\"LoginPage\");\n                        login.present();\n                    }\n                },\n                {\n                    text: registerBtn,\n                    handler: () => {\n                        let register = this.modalCtrl.create(\"SignUpPage\");\n                        register.present();\n                    }\n                },\n                cancelBtn\n            ]\n        });\n        alert.present();\n    }\n\n    presentPopover(myEvent) {\n        let popover = this.popoverCtrl.create(\"PopoverPage\", {\n            data: [4, 1, 2]\n        },{\n            cssClass: 'backdropOpacity'\n        });\n        popover.present({\n            ev: myEvent\n        });\n\n        popover.onDidDismiss(data => {\n\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/method-credit/method-credit.ts","import { TranslateModule } from '@ngx-translate/core';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MethodCreditPage } from './method-credit';\n\n@NgModule({\n    declarations: [\n        MethodCreditPage,\n    ],\n    imports: [\n        IonicPageModule.forChild(MethodCreditPage),\n        TranslateModule.forChild()\n    ],\n    exports: [\n        MethodCreditPage\n    ]\n})\nexport class MethodCreditPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/method-credit/method-credit.module.ts"],"sourceRoot":""}